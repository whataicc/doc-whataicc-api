---
weight: 12
bookFlatSection: true
title: "gpt图生图"

summary: "本页详细介绍神马中转API的功能、使用方法以及中转API服务的优势，帮助您快速上手并提升效率。"
description: "了解神马中转API的使用方法，掌握如何配置和调用中转API服务，轻松解决接口调用难题。"
keywords: ["神马中转API", "如何使用中转API", "中转API服务"]
tags: ["API", "中转API", "服务使用"]
categories: ["技术教程", "API文档"]

author: "神马中转API（api.whatai.cc）"
---

# gpt图生图



## **概念介绍**

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

本API提供图像编辑功能，支持：

*   单图修改：基于提示词对单张图片进行内容修改

*   多图合并：将多张图片按提示词要求合并处理

## **基础信息**

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

*   请求方式：POST

*   Base URL：`https://api.whatai.cc/v1/images/edits`

*   认证方式：Bearer Token

**单图修改示例**

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### **Python代码示例**

```python
import base64
import json
import requests

# API配置
url = "https://api.whatai.cc/v1/images/edits"
api_key = "sk-******"  # 替换为你的API密钥

headers = {
    "Authorization": f"Bearer {api_key}"
}

# 请求参数
payload = {
    "prompt": "给哪吒带上一个红色的鸭舌帽，风格保持不变",  # 编辑指令
    # "size": "1024x1024"  # 可选输出尺寸
}

# 准备图片文件
files = [
    ("image",  # 固定参数名
        ("nezha.png",  # 文件名
         open("/path/to/nezha.png", "rb"),  # 文件路径
         "image/png")  # 文件类型
    )
]

# 发送请求
response = requests.post(url, headers=headers, data=payload, files=files)

# 处理响应
if response.status_code == 200:
    try:
        data = response.json()
        
        # 提取base64编码的图片数据
        if data.get("data") and isinstance(data["data"], list):
            image_b64 = data["data"][0].get("b64_json")
            
            if image_b64:
                # 解码并保存图片
                with open("output.png", "wb") as f:
                    f.write(base64.b64decode(image_b64))
                print("图片保存成功")
            else:
                print("未获取到有效图片数据")
        else:
            print("响应数据结构异常")
    except json.JSONDecodeError:
        print("JSON解析失败")
else:
    print(f"请求失败: {response.status_code}")

```



## **参数说明**

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

| **参数名** | **必选** | **类型** | **说明** |
| --- | --- | --- | --- |
| image | 是 | file | 要编辑的图片文件 |
| prompt | 是 | string | 编辑指令描述 |
| size | 否 | string | 输出图片尺寸，如"1024x1024" |

## **响应格式**

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

成功响应示例：

```json
{
    "data": [
        {
            "b64_json": "base64编码的图片数据"
        }
    ]
}

```

## **注意事项**


---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

1.   图片文件需小于10MB

2.   支持PNG/JPEG格式

3.   编辑效果取决于提示词描述的准确性

4.   敏感操作需确保符合内容政策